<div class="card w-120">
    <div class="card-block">
        <h4 class="card-title">Tarjetas De Control </h4>
        
        <input placeholder="Buscar..." type="text" id="gb1" #filtroGlobal/>
        
        <!--boton nuevo-->
        <button type="text" (click)="nuevaAsignaTarjeta()" pButton label="Nuevo" data-toggle="modal" ></button>
        
        <!--modal boton nuevo-->
        <p-dialog [(visible)]="displayAsignarTarjeta" modal="modal" width="350" [closable]= false>
                             <!--PUNTOS DE CONTROL EXISTENTES-->
                             <div class="form-group row">
                                 <div class="col-3">
                                    <label class="col-2 col-form-label">Puntos:</label>
                                 </div>
                                 <div class="col-9">
                                    <select [(ngModel)]="puntoControl" (change)="puntosControlId($event)">
                                        <option *ngFor="let punto of _puntosControl" [ngValue]="punto">
                                            {{punto.RuDescripcion}}
                                        </option>
                                    </select>
                                 </div>
                             </div>

                            
                            <!--LISTA PROGRAMACION EN LA BD-->
                             <div class="form-group row">
                                 <div class="col-4">
                                    <label class="col-3 col-form-label">Programas:</label>
                                 </div>
                                <div class="col-8">
                                    <select [(ngModel)]="_prId" (change)="programacionId($event)">
                                        <option *ngFor="let prog of _programacion" [ngValue]="prog.prId">
                                            {{prog.prDescripcion}}
                                        </option>
                                    </select>
                                 </div>
                             </div>

                             <!--fecha programacion-->
                            <div class="form-group row ">
                                <div class="col-4">
                                    <label class="col-2 col-form-label" >Fecha:</label>
                                </div>
                                <div class="col-7 row">
                                    <input class="form-control" name="fecha" placeholder="MM/DD/YYY" type="date" [(ngModel)]="tarjeta._TaCoFecha" />
                                </div>
                                <div class="col-1 row">    
                                    <button type="button" (click)="buscarxFecha()" pButton label=" "></button>
                                </div>
                            </div>

                            <!--programacion (AQUI UN DATATABLE)-->
                            <div class="form-group row">
                                <div class="col-3">
                                    <label class="col-2 col-form-label">Placas:</label>
                                </div>
                                <div class="col-9">
                                    <select [(ngModel)]="placa" (change)="placaObj($event)">
                                        <option *ngFor="let progde of _progDetalle" [ngValue]="progde">
                                            {{progde.nroPlaca}}
                                        </option>
                                    </select>
                                 </div>
                            </div>

                            <div class="form-group row">
                                <label class="radio-inline"><p-radioButton  value="0" label="No Asig" [(ngModel)]="val"></p-radioButton></label>
                                <label class="radio-inline"><p-radioButton  value="1" label="Asig"   [(ngModel)]="val"></p-radioButton></label>
                                <label class="radio-inline"><p-radioButton  value="2" label="Ausente" [(ngModel)]="val"></p-radioButton></label>
                            </div>

                            <!--hora salida <div class="form-group row"></div>-->
                            

                            <!--nro vuelta-->
                            
                                
                                <div class="form-group row">
                                    <div class="col-3">
                                        <label for="hora" class="col-1 col-form-label">Salida:</label>
                                    </div>
                                    <div class="col-9">
                                        <input class="form-control" type="time" value="00:00:00" id="hora" [(ngModel)]="tarjeta._TaCoHoraSalida"  step="1" >
                                    </div>
                                </div>
                            
                               
                                <!--<div class="col-3">
                                     <label for="nrovueltas" class="col-1 col-form-label">V:</label>
                                    <input class="form-control" type="number" value="50" id="nrovueltas" [(ngModel)]="tarjeta._TaCoNroVuelta">
                                </div>-->
                                
                            <div class="form-group row ">    
                                <div class="col-3">
                                    <label for="cuota" class="col-1 col-form-label">Cuota:</label>
                                </div>
                                <div class="col-9">
                                    <input class="form-control" type="number"  value="0"   id="cuota"    [(ngModel)]="tarjeta._TaCoCuota">
                                </div>
                            </div>     

                    <!--modal footer-->
                    <p-footer>
                        <div class="ui-dialog-buttonpane ui-helper-clearfix" >    
                            <button type="button" pButton  (click)="guardarTarjeta()" label="Guardar"></button>
                            <button type="button" pButton  (click)="cancelarTarjeta()" label="Cancelar"></button>
                        </div>
                    </p-footer>
        </p-dialog>

        <!--Tabla Maestro  [pageLinks]="3" [rowsPerPageOptions]="[3,10,20]"-->
        
            <p-dataTable [value]="_allTarjControl" [rows]="3" [paginator]="true"  [globalFilter]="filtroGlobal"
                scrollable="true" scrollWidth="100%" selectionMode="single" [(selection)]="selectedProgPresentar" (onRowSelect)="onRowSelectCabecera($event)">
                    <p-column styleClass="col-button" [style]="{'width':'6em'}">
                        <template pTempalte="header">
                            <button type="button" pButton icon="fa-refresh">  </button>
                        </template>
                        <template let-col let-row="rowData" pTemplate="body">
                            <button type="button" pButton class="btn" (click)="editarC(row.TaCoId)" icon="fa-pencil-square-o" > </button>
                            <button type="button" pButton class="btn" (click)="eliminarC(row.TaCoId)" icon="fa-trash" > </button>
                        </template>
                    </p-column>
                <!--campos de la datatable-->
                <p-column field="nro" header="NÂ°"  [style]="{'width':'2em'}"></p-column>
                <p-column field="PuCoId" header="PuCo ID"  [style]="{'width':'3em'}"></p-column>
                <!--<p-column field="rutaDescripcion" header="Puntos"  [style]="{'width':'9em'}"></p-column>-->
                <!--<p-column field="BuId" header="BuId"  [style]="{'width':'9em'}"></p-column>-->
                <p-column field="placa" header="Placa"  [style]="{'width':'5em'}"></p-column>
                <p-column field="RuId" header="Ruta"  [style]="{'width':'3em'}"></p-column>
                <p-column field="TaCoFecha" header="Fecha"  [style]="{'width':'8em'}"></p-column>
                <p-column field="TaCoHoraSalida" header="Salida"  [style]="{'width':'6em'}"></p-column>
            </p-dataTable>
        
    </div>
</div>


<!--Detalle tarjeta control-->

<div class="card">
    <div>
        <h4>Tarjetas Iniciadas</h4>
    </div>
    <div class="card-block" style="padding:3">
        <div class="card-text">
            <p-dataTable [value]="_allTarjDetalle" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]" [globalFilter]="filtroGlobal"
                scrollable="true" scrollWidth="100%" selectionMode="single">
                <!--
                    <p-column styleClass="col-button" [style]="{'width':'6em'}"> 
                        <template pTempalte="header">
                            <button type="button" pButton icon="fa-refresh">  </button>
                        </template>
                        <template let-col let-envioPresentar="rowData" pTemplate="body">
                            <button type="button" class="btn"> </button>
                            <button type="button" class="btn"> </button>
                        </template>
                    </p-column>
                -->
                
                <p-column field="PuCoDeId" header="PuCoDeId"  [style]="{'width':'4em'}"></p-column>
                <p-column field="TaCoDeDescripcion" header="TaCoDeDescripcion"  [style]="{'width':'9em'}"></p-column>
                <p-column field="TaCoDeId" header="TaCoDeId"  [style]="{'width':'9em'}"></p-column>
                <p-column field="TaCoDeTiempo" header="TaCoDeTiempo"  [style]="{'width':'6em'}"></p-column>
            </p-dataTable>
        </div>

    </div>
</div>
